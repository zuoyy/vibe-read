# 设计规范与创意来源

## 设计哲学

**形式服务于内容** - 每篇文章的设计应该从内容本身提取灵感，而不是套用模板。

**首页保持一致** - 虽然每篇文章有独特的设计风格，但在首页展示时需保持基本的视觉一致性，确保良好的浏览体验。

**首页卡片规范**：
- **布局适配**：卡片宽度由 grid 布局控制（桌面端双列，移动端单列），组件内只需 `w-full`。
- **高度规范**：统一使用 `h-[400px]`（Hero 组件在 `inHome={true}` 模式下），确保网格排版整齐。
- **交互要求**：
  - **3D 悬停特效**：首页已集成 `TiltCard` 组件，卡片会自动获得跟随鼠标的 3D 倾斜效果。
  - **悬停状态**：卡片内部 (`inHome={true}`) 需实现 `group-hover` 状态下的视觉反馈（如背景变亮、元素浮动、光效增强等）。
  - **可点击性**：内容无需再用 `<Link>` 包裹（已在父级统一处理，避免嵌套 3D 变换冲突），但需保持视觉上的可点击暗示。
- **视觉层级**：卡片应自带背景（如深色毛玻璃、渐变底色），以配合首页的深色动态网格背景。

## 四个设计原则

### 1. 风格跟随内容

**设计的视觉基调应该匹配文章的情绪和主题。**

不要问"这是什么类型的文章"，而要问：

- **这篇文章给你什么感受？**
  - 自由描述，不要限制在固定选项中
  - 用你自己的词语捕捉这种感觉

- **你希望读者如何体验这篇文章？**
  - 他们应该是什么状态？
  - 阅读的节奏是怎样的？

- **脑海中浮现什么画面？**
  - 什么颜色？
  - 什么形状？
  - 什么动态？

从这些感受出发，推导出：
- **色彩**：什么颜色能传达这种情绪？
- **字体**：什么字体符合这种气质？
- **背景**：纯色、渐变、纹理、图案？
- **间距**：紧凑还是留白？
- **动效**：快速还是缓慢？锐利还是柔和？

### 2. 交互赋能内容

**为文章中的关键内容增加交互，丰富体验。**

阅读文章时，留意这些机会：

- **概念解释** → 可视化演示
  - 心理学实验 → 可操作的实验模拟器
  - 算法原理 → 动画演示执行过程

- **数据对比** → 动态图表
  - 历史数据 → 时间线滑块
  - 多维度分析 → 可调参数的图表

- **场景描述** → 沉浸式组件
  - 地理位置 → 地图可视化
  - 时间流逝 → 日夜切换效果

- **选择/思考** → 互动问答
  - 哲学问题 → 多选项思考器
  - 两难困境 → 决策模拟器

**原则**：交互应该帮助理解，而不是炫技。

**循环体验 (Cyclic Experience)**：
交互组件严禁设计为"一次性"体验。
- **自动重置**：展示型交互（如发射信号、模拟演化、物理碰撞）在动画或结果展示完毕后，**必须**在短暂延迟（建议 4-8 秒）后自动重置回初始状态。
- **允许重玩**：确保用户可以反复触发交互，每次操作都能获得完整的视觉和反馈体验。
*体验应该是流动的循环，而不是死胡同。*

### 3. 巧思创造沉浸

**用隐喻和场景设计，让读者"进入"文章，而不只是"阅读"文章。**

寻找文章的**核心场景或隐喻**：
- 文章发生在什么地方？
- 有什么贯穿始终的意象？
- 作者想传达什么感觉？

将这个隐喻转化为**整体布局和导航逻辑**。

**关键**：隐喻要自然，不能生硬。如果找不到合适的隐喻，传统的垂直滚动也完全可以。

### 4. 响应式设计

**桌面端和移动端同等重要，都需要完整的体验。**

设计时始终考虑两端：
- **布局**：移动端和桌面端各自如何呈现？
- **交互**：触摸和鼠标操作都要流畅
- **性能**：动画在移动设备上是否流畅？
- **内容**：两端是否都能完整呈现核心内容？

不要先做好一端再"适配"另一端，而是从设计之初就考虑两端的体验。

## 设计流程

### 1. 阅读内容
仔细阅读文章内容（content.md），理解主题和情绪。

### 2. 记录感受
写下第一直觉：看到什么画面？什么颜色？什么感觉？

### 3. 寻找机会
- 哪些地方可以加交互？
- 有没有核心隐喻可以用？

### 4. 写 design.md
记录设计方案，解释"为什么这样设计"。包含：
- 内容理解
- 设计直觉
- 视觉风格（色彩、字体、视觉元素）
- 交互设计
- 沉浸式设计（如果有隐喻）
- 响应式考虑
- 技术实现

### 5. 迭代调整
设计不是一次成型的，编码过程中可以随时调整 design.md。

## 语言纯净协议 (Language Purity Protocol)

为确保极致的国际化体验，所有开发必须严格遵守以下规则：

1.  **零硬编码 (Zero Hardcoding)**：
    *   严禁在 UI 组件中直接写入中文或英文字符串。
    *   所有用户可见文本必须提取到 `messages/{locale}/` 下的 JSON 文件中。
2.  **严格分离 (Strict Separation)**：
    *   中文界面 (`/zh`) 严禁出现未经设计的英文字符（设计风格需要的英文装饰除外）。
    *   英文界面 (`/en`) 严禁出现中文字符。
3.  **动态元数据 (Dynamic Metadata)**：
    *   页面标题（Title）和描述（Description）必须根据当前语言动态生成。
    *   格式规范：`{Page Title} - {Site Title}`（如 "三体 - 氛围阅读"）。

## 部署与技术规范 (Deployment & Technical Specs)

### Cloudflare Pages 部署
本项目部署于 Cloudflare Pages，对运行时有严格要求：

1.  **Edge Runtime**：
    *   所有非静态路由（特别是涉及动态渲染的页面，如 `app/[locale]/[bookId]/page.tsx`）必须显式声明 Edge Runtime。
    *   代码：`export const runtime = 'edge'`
    *   **注意**：Cloudflare Pages 部署失败的常见原因即为此配置缺失。

### 资源目录规范
1.  **公共资源**：
    *   静态图片（如 `favicon.ico`, `icon.png`）必须存放于 `/public` 目录。
    *   Next.js Metadata 配置（如 `icons`）需显式指向 `/public` 下的路径。

## 相关文档

- [ARCHITECTURE.md](./ARCHITECTURE.md) - 技术架构
- [ARTICLE_CREATION.md](./ARTICLE_CREATION.md) - 完整创作流程
- [CLAUDE.md](../CLAUDE.md) - AI 协作入口
